openapi: 3.0.1
info:
  title: OpenAPI definition
  version: v0
servers:
- description: Generated server url
  url: http://localhost:54433
paths:
  /step:
    post:
      operationId: step
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StepRequest'
        required: true
      responses:
        "200":
          description: OK
      tags:
      - game-backend
      x-content-type: application/json
      x-accepts: application/json
  /join:
    post:
      operationId: join
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/JoinRequest'
        required: true
      responses:
        "200":
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/JoinResponse'
          description: OK
      tags:
      - game-backend
      x-content-type: application/json
      x-accepts: '*/*'
  /disconnect:
    post:
      operationId: disconnect
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DisconnectRequest'
        required: true
      responses:
        "200":
          description: OK
      tags:
      - game-backend
      x-content-type: application/json
      x-accepts: application/json
  /state:
    get:
      operationId: getState
      parameters:
      - explode: true
        in: query
        name: stateRequest
        required: true
        schema:
          $ref: '#/components/schemas/StateRequest'
        style: form
      responses:
        "200":
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/StateResponse'
          description: OK
      tags:
      - game-backend
      x-accepts: '*/*'
components:
  schemas:
    StepRequest:
      example:
        column: 1
        playerId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
      properties:
        playerId:
          format: uuid
          type: string
        column:
          format: int32
          maximum: 9
          minimum: 1
          type: integer
      required:
      - column
      - playerId
      type: object
    JoinRequest:
      example:
        name: name
      properties:
        name:
          maxLength: 20
          minLength: 3
          type: string
      required:
      - name
      type: object
    JoinResponse:
      example:
        playerId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
      properties:
        playerId:
          format: uuid
          type: string
      required:
      - playerId
      type: object
    DisconnectRequest:
      example:
        playerId: 046b6c7f-0b8a-43b9-b35d-6489e6daee91
      properties:
        playerId:
          format: uuid
          type: string
      required:
      - playerId
      type: object
    StateRequest:
      properties:
        playerId:
          format: uuid
          type: string
      required:
      - playerId
      type: object
    Names:
      example:
        opponent: opponent
        me: me
      properties:
        me:
          type: string
        opponent:
          type: string
      required:
      - me
      - opponent
      type: object
    StateResponse:
      example:
        phase: WAITING_FOR_PLAYERS
        iAmWinner: true
        names:
          opponent: opponent
          me: me
        myTurn: true
        board:
        - - board
          - board
        - - board
          - board
        iamWinner: true
      properties:
        phase:
          enum:
          - WAITING_FOR_PLAYERS
          - ONGOING_GAME
          - PLAYER_DISCONNECTED
          - PLAYER_WON
          type: string
        myTurn:
          type: boolean
        iAmWinner:
          type: boolean
        board:
          items:
            items:
              type: string
            type: array
          type: array
        names:
          $ref: '#/components/schemas/Names'
        iamWinner:
          type: boolean
      required:
      - board
      - iAmWinner
      - myTurn
      - names
      - phase
      type: object

